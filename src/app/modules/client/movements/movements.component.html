<!--<p>movements works!</p>-->


<div class="withdraw-container">
  
<form class="mb-8" (ngSubmit)="realizarConsulta()">
  <h1 class="text-2xl font-bold mb-4" style="text-align: center;">Consulta de Movimientos</h1><br><br>

  <div class="">
    <label for="numeroCuenta" class="block text-gray-700 font-bold mb-1">Número de cuenta:</label>
    <input type="text" id="numeroCuenta" name="numeroCuenta" [(ngModel)]="numeroCuenta" required class="px-4 py-2 border border-gray-300 rounded">
  </div>
  <div class="mb-4">
    <br><label for="fechaInicio" class="block text-gray-700 font-bold mb-1">Fecha de inicio:</label>
    <input type="date" id="fechaInicio" name="fechaInicio" [(ngModel)]="fechaInicio" required
      class="px-4 py-2 border border-gray-300 rounded">
  </div>
  <div class="mb-4">
    <label for="fechaFin" class="block text-gray-700 font-bold mb-1">Fecha de fin:</label>
    <input type="date" id="fechaFin" name="fechaFin" [(ngModel)]="fechaFin" required
      class="px-4 py-2 border border-gray-300 rounded">
  </div>
  <button type="submit" class="px-4 py-2 bg-blue-500 text-white font-bold rounded" (click)="realizarConsulta()">Consultar Movimientos</button>

  
</form>

<!-- Mostrar mensaje de error -->
<div *ngIf="!formValid" class="error-message">
  <p>{{ errorFecha }}</p>
</div>

<br>
<!-- Mostrar el formulario de detalles de movimientos si se ha realizado una consulta -->
<div *ngIf="mostrarDesglose">
  <h2>Últimos Movimientos</h2>
  <table>
    <thead>
      <tr>
        <th>Concepto</th>
        <th>Tipo</th>
        <th>Monto</th>
        <th>Fecha de Creación</th>
        <th>Fecha de Registro</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let movimiento of movimientos">
        <td>{{ movimiento.notes }}</td>
        <td>{{ movimiento.debtorAccount }}</td>
        <td>{{ movimiento.ammount }}</td>
        <td>{{ movimiento.valueDate }}</td>
        <td>{{ movimiento.creationDate }}</td>
      </tr>
    </tbody>
  </table>
  <br><br>
</div>
</div>

